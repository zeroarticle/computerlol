<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°—á—ë—Ç—á–∏–∫ –¥–æ —Å–±–æ—Ä–∫–∏ –ü–ö</title>

  <!-- ===== –°–¢–ò–õ–ò ===== -->
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 40px 10px;
      min-height: 100vh;
      color: #fff;

      /* –§–æ–Ω –≤ —Å—Ç–∏–ª–µ Brawl Stars */
      background:
        radial-gradient(circle at 20% 20%, #ffd54f 2px, transparent 3px),
        radial-gradient(circle at 80% 30%, #ff7043 2px, transparent 3px),
        radial-gradient(circle at 50% 70%, #4fc3f7 2px, transparent 3px),
        linear-gradient(135deg, #7b2ff7, #3a7bd5);
      background-size: 120px 120px, 160px 160px, 200px 200px, cover;
      animation: bgMove 20s linear infinite;
    }

    @keyframes bgMove {
      0% { background-position: 0 0, 0 0, 0 0, 0 0; }
      100% { background-position: 200px 200px, -200px 100px, 150px -150px, 0 0; }
    }

    .note {
      color: #ffeb3b;
      margin-bottom: 25px;
      font-size: 18px;
    }

    .card {
      background: rgba(0,0,0,0.35);
      border-radius: 18px;
      padding: 20px;
      margin: 18px auto;
      max-width: 420px;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
      animation: pulse 2.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.015); }
    }

    .best { border: 2px solid #4caf50; }
    .worst { border: 2px solid #f44336; }

    .time { font-size: 26px; }
    .percent { margin-bottom: 8px; }

    .bar {
      height: 14px;
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
      overflow: hidden;
    }

    .fill {
      height: 100%;
      width: 0%;
      transition: width 0.6s ease;
    }

    .fill.best {
      background: linear-gradient(90deg, #4caf50, #8bc34a);
    }

    .fill.worst {
      background: linear-gradient(90deg, #f44336, #ff9800);
    }

    /* ===== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ===== */
    .comments {
      background: rgba(0,0,0,0.4);
      border-radius: 18px;
      padding: 20px;
      max-width: 420px;
      margin: 30px auto;
    }

    input, textarea, button {
      width: 100%;
      margin: 6px 0;
      padding: 8px;
      border-radius: 8px;
      border: none;
      font-size: 14px;
    }

    button {
      background: #ffeb3b;
      cursor: pointer;
    }

    .comment {
      text-align: left;
      background: rgba(255,255,255,0.1);
      padding: 8px;
      border-radius: 8px;
      margin-top: 6px;
      font-size: 14px;
    }
  </style>
</head>

<body>

<h2>–°—á—ë—Ç—á–∏–∫ –≤—Ä–µ–º–µ–Ω–∏</h2>
<div class="note">–≠—Ç–æ —Å—á—ë—Ç—á–∏–∫ –¥–æ —Å–±–æ—Ä–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</div>

<!-- –õ–£–ß–®–ò–ô –°–õ–£–ß–ê–ô -->
<div class="card best">
  <div>–õ—É—á—à–∏–π —Å–ª—É—á–∞–π (13:00)</div>
  <div class="time" id="timerBest"></div>
  <div class="percent" id="percentBest"></div>
  <div class="bar"><div class="fill best" id="barBest"></div></div>
</div>

<!-- –•–£–î–®–ò–ô –°–õ–£–ß–ê–ô -->
<div class="card worst">
  <div>–•—É–¥—à–∏–π —Å–ª—É—á–∞–π (17:00)</div>
  <div class="time" id="timerWorst"></div>
  <div class="percent" id="percentWorst"></div>
  <div class="bar"><div class="fill worst" id="barWorst"></div></div>
</div>

<!-- ===== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ===== -->
<div class="comments">
  <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
  <input id="name" placeholder="–ò–º—è">
  <textarea id="text" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>
  <button onclick="sendComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  <div id="list"></div>
</div>

<!-- ===== FIREBASE ===== -->
<!-- ===== FIREBASE REALTIME DATABASE ===== -->
<script type="module">
  // –ò–º–ø–æ—Ä—Ç Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import {
    getDatabase,
    ref,
    push,
    onValue,
    serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-database.js";

  // üî¥ –í–°–¢–ê–í–¨ –°–í–û–ò –î–ê–ù–ù–´–ï
  const firebaseConfig = {
    apiKey: "AIzaSyDbAvcfYcB4aQ9xp9-TtefPZ_ibOyGCDiY",
    authDomain: "zsuero-bot.firebaseapp.com",
    databaseURL: "https://zsuero-bot-default-rtdb.firebaseio.com",
    projectId: "zsuero-bot"
  };

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const commentsRef = ref(db, "comments");

  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
  window.sendComment = () => {
    const name = document.getElementById("name").value.trim();
    const text = document.getElementById("text").value.trim();
    if (!name || !text) return;

    push(commentsRef, {
      name: name,
      text: text,
      time: Date.now()
    });

    document.getElementById("text").value = "";
  };

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  onValue(commentsRef, snapshot => {
    const list = document.getElementById("list");
    list.innerHTML = "";

    snapshot.forEach(child => {
      const c = child.val();
      const div = document.createElement("div");
      div.className = "comment";
      div.innerHTML = `<b>${c.name}:</b> ${c.text}`;
      list.prepend(div); // –Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É
    });
  });
</script>
</body>
</html>
